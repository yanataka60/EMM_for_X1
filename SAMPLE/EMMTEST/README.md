# EMMTEST

　EMMボートの512K S-RAMの読み書きテストプログラムです。

　X1、X1turboで実行可能です。

　RAMの内容を一時退避しながらテストしますのでRAMの読み書きが正常であればEMMの内容が変化してしまうことはありません。

## EMMTESTの作成
　EMMTEST.binを使いますが、BASIC CZ-8CB01から抜き出したIOCS(0000h～149Fh)が必要です。

　基本的にはX1_SDでの「ROMへの書込み」と同様です。

　まず、BASIC CZ-8CB01からIOCS(0000h～149Fh)を抜き出し、バイナリファイルとして保存します。

　CZ-8FB01 V10、CZ-8FB01 V20も大丈夫だとは思いますが、検証していません。なお、X1turbo用BASICは使えません。

　　DumpList Editorを使ってBASIC CZ-8CB01のWav又はtapファイルを読み込み、「マシン語入力に送る」を実行します。

　　マシン語の14A0h以降を削除します。(0000h～149Fhのマシン語にします)

　　「ファイル書出し」の「BIN(mot)ファイル書き出し(ヘッダ無し)(for他汎用)」を選択して「IOCS.bin」という名前で保存します。

　保存した「IOCS.bin」の後ろにバイナリエディタ等を使って「EMMTEST.bin」を付け加えます。0000h～1665hのファイルとなるはずです。

　次にファイルの先頭に以下に示す32Byteのヘッダを付加します。0000h～1685hのファイルとなります。

　[0000] 01 45 4D 4D 54 45 53 54 20 20 20 20 20 20 20 20

　[0010] 20 20 65 16 00 00 00 00 20 20 20 20 20 20 00 00

　出来上がったら「EMMTEST.X1T」という名前で保存します。

## EMMTESTの使い方
　起動すると対象とするEMMをEMM0～EMM3の中から数字で選択するとテストが始まります。(00000h～7FFFFh)

　書き込んだ内容が正常に読み出せない場合にはエラーと表示して停止します。

